import{_ as $,d,l as p,e,g as x,h as A,v as j,t as l,f as E,m as S,F as R,p as V,n as k,u as z,r as m,o as K,E as I,c as F,k as c}from"./index-Dy1_wJKI.js";import{F as ee}from"./Footer-component-Jen5bCQl.js";import{I as te,L as se}from"./ImagePreloader-CF5kY67s.js";import{L as oe}from"./LazyImage-CTPPnyAo.js";import M from"./PatientService-B6JXPRBQ.js";const ie=Object.assign({name:"HistoryPageAdmin"},{__name:"HistoryAdminPage",setup(O,{expose:s}){s();const P=z(),t=m([]),u=m({}),w=m(!0),v=m(null),i=m(null),h=m(null),b=m(""),C=m(!1),y=m(""),f=m(""),D=m(""),_=m(""),N=m(!1);K(async()=>{try{w.value=!0,v.value=null,console.log("Fetching all diagnoses from API");const o=await I.getAllDiagnoses();if(!o||o.length===0){console.warn("No diagnoses found or empty response from API"),w.value=!1;return}t.value=o,console.log(`Retrieved ${o.length} diagnoses from API`);const a={};for(const r of o){const n=r.userId||r.patientId;if(n){if(!a[n]){a[n]=[];try{const g=await M.getPatientById(n);g&&(r.patientName=g.name,r.patientNik=g.nik)}catch(g){console.error(`Error fetching info for patient ${n}:`,g)}}a[n].push(r)}}u.value=a,console.log("Grouped diagnoses by patient:",Object.keys(a).length)}catch(o){console.error("Error loading diagnoses from API:",o),v.value="Gagal memuat data diagnosis. Silakan coba lagi."}finally{w.value=!1}});const q=o=>{if(!o)return"N/A";try{return new Date(o).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})}catch(a){return console.error("Error formatting date:",a),o}},G=o=>{const a=parseFloat(o);return a<20?"bg-green-500":a<50?"bg-yellow-500":"bg-red-500"},U=o=>{const a=parseFloat(o);return a<20?"RISIKO RENDAH":a<50?"RISIKO SEDANG":"RISIKO TINGGI"},J=F(()=>{const o=Object.keys(u.value);if(o.length===0)return[];const a=o.map(r=>{const n=u.value[r];if(!n||n.length===0)return null;const g=[...n].sort((T,H)=>new Date(H.createdAt||H.updatedAt||0)-new Date(T.createdAt||T.updatedAt||0))[0];return g?{id:r,nik:g.patientNik||r,patientName:g.patientName||"Pasien Tidak Diketahui",diagnosesCount:n.length,latestDate:new Date(g.createdAt||g.updatedAt||Date.now()),latestResult:g.resultPercentage||0,latestDiagnosis:g}:null}).filter(Boolean);if(b.value.trim()){const r=b.value.toLowerCase();return a.filter(n=>n.patientName.toLowerCase().includes(r)||n.nik.toString().toLowerCase().includes(r))}return a.sort((r,n)=>n.latestDate-r.latestDate)}),Q=()=>{b.value=""},Y=o=>{i.value=o,h.value=null},W=o=>{h.value=o},X=o=>{if(!o){console.error("No diagnosis ID provided for detailed report");return}P.push({path:"/result-admin",query:{id:o}})},Z=()=>{h.value=null},L=async()=>{try{w.value=!0,v.value=null,console.log("Reloading all diagnoses from API");const o=await I.getAllDiagnoses();if(!o||o.length===0){console.warn("No diagnoses found or empty response from API"),u.value={},w.value=!1;return}t.value=o;const a={};for(const r of o){const n=r.userId||r.patientId;if(n){if(!a[n]){a[n]=[];try{const g=await M.getPatientById(n);g&&(r.patientName=g.name,r.patientNik=g.nik)}catch(g){console.error(`Error fetching info for patient ${n}:`,g)}}a[n].push(r)}}u.value=a}catch(o){console.error("Error reloading diagnoses from API:",o),v.value="Gagal memuat data diagnosis. Silakan coba lagi."}finally{w.value=!1}},B={router:P,allDiagnoses:t,patientDiagnoses:u,isLoading:w,errorMessage:v,selectedNik:i,selectedDiagnosis:h,searchQuery:b,showSendDialog:C,sendPatientNik:y,sendPatientName:f,sendNikError:D,sendNameError:_,isSending:N,formatDate:q,getStatusClass:G,getStatusText:U,patientList:J,clearSearch:Q,openPatientFolder:Y,viewDiagnosis:W,viewDetailedReport:X,closeDiagnosisView:Z,reloadDiagnoses:L,openSendDialog:(o,a)=>{const r=u.value[o]||[];if(r.length>0){const n=r[0];y.value=n.patientNik||"",f.value=a||n.patientName||""}else y.value="",f.value=a||"";D.value="",_.value="",C.value=!0},sendToPatient:async()=>{D.value="",_.value="";let o=!0;if(y.value||(D.value="NIK pasien diperlukan",o=!1),f.value||(_.value="Nama pasien diperlukan",o=!1),o){N.value=!0;try{await new Promise(a=>setTimeout(a,1500)),N.value=!1,C.value=!1,alert(`Hasil diagnosis berhasil dibagikan ke ${f.value}`)}catch(a){console.error("Error sending diagnosis to patient:",a),alert("Gagal mengirim diagnosis ke pasien. Silakan coba lagi."),N.value=!1}}},deletePatientRecord:async o=>{if(confirm("Apakah Anda yakin ingin menghapus rekam medis pasien ini? Tindakan ini tidak dapat dibatalkan."))try{if(w.value=!0,u.value[o]){const a={...u.value};delete a[o],u.value=a,i.value===o&&(i.value=null,h.value=null),await L()}}catch(a){console.error("Error deleting patient record:",a),alert("Gagal menghapus rekam medis pasien. Silakan coba lagi.")}finally{w.value=!1}},ref:m,onMounted:K,computed:F,get useRouter(){return z},FooterComponent:ee,LazyBackground:se,LazyImage:oe,ImagePreloader:te,get diagnosisService(){return I},get patientService(){return M}};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}}),ae={class:"history-page mt-10"},le={class:"relative"},ne={class:"bg-gradient-to-b from-blue-700 to-indigo-900 py-10 px-4 min-h-screen"},re={class:"max-w-7xl mx-auto"},de={class:"bg-white/10 backdrop-blur-sm rounded-xl p-4 mb-8 flex flex-col md:flex-row justify-between items-center gap-4"},ce={class:"relative w-full md:w-100"},ge=["disabled"],me={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ue={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},he={key:0,class:"flex justify-center py-20"},we={key:1,class:"text-center py-20"},xe={class:"bg-white/10 backdrop-blur-sm rounded-xl p-8 max-w-2xl mx-auto"},ve={class:"text-white/80 mb-6"},pe={key:2,class:"text-center py-20"},be={class:"bg-white/10 backdrop-blur-sm rounded-xl p-8 max-w-2xl mx-auto"},fe={key:3,class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ke={class:"bg-white/10 backdrop-blur-sm rounded-xl shadow-xl overflow-hidden"},ye={class:"p-4 border-b border-white/20"},De={class:"text-xl font-semibold text-white"},_e={key:0,class:"text-sm font-normal text-white/60 ml-2"},Ne={class:"max-h-[70vh] overflow-y-auto"},Pe={key:0,class:"p-6 text-center text-white/70"},Ce=["onClick"],Ae={class:"flex justify-between items-start mb-1"},je={class:"text-lg font-medium text-white"},Se={class:"text-sm text-white/70 mb-1"},Ie={class:"flex justify-between items-center text-xs mt-2"},Me={class:"text-white/60"},Le={class:"text-white/60"},Be={key:0,class:"bg-white/10 backdrop-blur-sm rounded-xl shadow-xl overflow-hidden"},Te={class:"p-4 border-b border-white/20 flex justify-between items-center"},He={class:"text-xl font-semibold text-white"},Ee={class:"flex gap-2"},Re={class:"max-h-[70vh] overflow-y-auto"},Ve=["onClick"],ze={class:"flex justify-between items-center mb-2"},Ke={class:"text-sm text-white/70"},Fe={class:"flex items-center justify-between mt-2"},Oe={class:"flex items-center"},qe={class:"text-white"},Ge={key:1,class:"bg-white/10 backdrop-blur-sm rounded-xl shadow-xl overflow-hidden"},Ue={class:"p-5"},Je={class:"mb-6 flex flex-col items-center"},Qe={class:"mt-2 text-center"},Ye={class:"text-lg font-semibold text-white"},We={class:"text-white/70 text-sm"},Xe={class:"mb-6"},Ze={class:"grid grid-cols-2 gap-4"},$e={class:"text-white"},et={class:"text-white"},tt={class:"text-white"},st={class:"mb-6"},ot={class:"grid grid-cols-2 gap-4"},it={class:"text-white"},at={class:"text-white"},lt={class:"text-white"},nt={class:"text-white"},rt={class:"text-white"},dt={class:"text-white"},ct={class:"grid grid-cols-2 gap-4"},gt={class:"text-white"},mt={class:"text-white"},ut={class:"text-white"},ht={class:"text-white"},wt={class:"text-white"},xt={class:"mt-8 flex justify-between"},vt={key:2,class:"md:col-span-2"},pt={key:4,class:"fixed inset-0 flex items-center justify-center z-50 bg-black/70"},bt={class:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-lg mx-4"},ft={class:"flex justify-between items-center mb-4"},kt={class:"mb-4"},yt=["disabled"],Dt={key:0,class:"text-red-500 text-xs mt-1"},_t={class:"mb-6"},Nt=["disabled"],Pt={key:0,class:"text-red-500 text-xs mt-1"},Ct={class:"flex justify-end gap-3"},At=["disabled"],jt=["disabled"],St={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},It={class:"mt-16 grid grid-cols-1 md:grid-cols-4 gap-4"};function Mt(O,s,P,t,u,w){var v;return c(),d("div",ae,[p(t.ImagePreloader,{images:["https://images.unsplash.com/photo-1586773860418-d37222d8fce3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80","https://images.unsplash.com/photo-1504813184591-01572f98c85f?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80","/images/hostipal.jpg","https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80","/images/ike.jpg"]}),e("section",le,[p(t.LazyBackground,{class:"absolute inset-0",src:"https://images.unsplash.com/photo-1586773860418-d37222d8fce3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",placeholder:"/images/loading-placeholder.svg",style:{filter:"brightness(0.4)"}}),s[10]||(s[10]=e("div",{class:"relative z-10 py-20 px-4 text-center"},[e("h1",{class:"text-4xl md:text-5xl font-bold text-white mb-4"},"Patient Diagnosis History"),e("p",{class:"text-xl text-blue-100 max-w-3xl mx-auto"}," View and manage patient cardiovascular health records ")],-1))]),e("div",ne,[e("div",re,[e("div",de,[e("div",ce,[A(e("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>t.searchQuery=i),type:"text",placeholder:"Cari pasien berdasarkan nama atau NIK...",class:"w-full px-4 py-3 pl-10 rounded-lg bg-white/20 text-white border border-white/30 focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-300"},null,512),[[j,t.searchQuery]]),s[12]||(s[12]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-white/70 absolute left-3 top-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),t.searchQuery?(c(),d("button",{key:0,onClick:t.clearSearch,class:"absolute right-3 top-3.5 text-white/70 hover:text-white"},s[11]||(s[11]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):x("",!0)]),e("button",{onClick:t.reloadDiagnoses,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",disabled:t.isLoading},[t.isLoading?(c(),d("svg",me,s[13]||(s[13]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(c(),d("svg",ue,s[14]||(s[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))),e("span",null,l(t.isLoading?"Memuat...":"Muat Ulang"),1)],8,ge)]),t.isLoading?(c(),d("div",he,s[15]||(s[15]=[e("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white"},null,-1)]))):t.errorMessage?(c(),d("div",we,[e("div",xe,[s[16]||(s[16]=e("h2",{class:"text-2xl font-bold text-white mb-2"},"Terjadi Kesalahan",-1)),e("p",ve,l(t.errorMessage),1),e("button",{onClick:t.reloadDiagnoses,class:"px-6 py-3 bg-blue-600 text-white rounded-lg shadow-lg hover:bg-blue-700 transition-all"}," Coba Lagi ")])])):Object.keys(t.patientDiagnoses).length===0?(c(),d("div",pe,[e("div",be,[s[17]||(s[17]=E('<h2 class="text-2xl font-bold text-white mb-2" data-v-1c16d54c>Tidak Ada Rekam Medis Pasien</h2><div class="flex flex-col items-center text-center" data-v-1c16d54c><div class="bg-blue-50 rounded-full p-5 mb-6" data-v-1c16d54c><svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-1c16d54c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" data-v-1c16d54c></path></svg></div></div><p class="text-white/80 mb-6" data-v-1c16d54c> Belum ada rekam diagnosis pasien di sistem. Buat diagnosis baru untuk mulai membangun database pasien Anda. </p>',3)),e("button",{onClick:s[1]||(s[1]=i=>t.router.push("/diagnose-admin")),class:"px-6 py-3 bg-blue-600 text-white rounded-lg shadow-lg hover:bg-blue-700 transition-all"}," Mulai Diagnosis Baru ")])])):(c(),d("div",fe,[e("div",ke,[e("div",ye,[e("h2",De,[s[18]||(s[18]=S(" Pasien ")),t.patientList.length?(c(),d("span",_e,"("+l(t.patientList.length)+")",1)):x("",!0)])]),e("div",Ne,[t.patientList.length===0?(c(),d("div",Pe," Tidak ada pasien yang sesuai dengan pencarian. ")):x("",!0),(c(!0),d(R,null,V(t.patientList,i=>(c(),d("div",{key:i.id,onClick:h=>t.openPatientFolder(i.id),class:k(`p-4 border-b border-white/10 cursor-pointer transition-colors hover:bg-white/5 ${t.selectedNik===i.id?"bg-white/20":""}`)},[e("div",Ae,[e("h3",je,l(i.patientName),1),e("div",{class:k(`px-2 py-0.5 rounded-full text-xs font-medium ${t.getStatusClass(i.latestResult)}`)},l(t.getStatusText(i.latestResult)),3)]),e("div",Se,"ID: "+l(i.nik),1),e("div",Ie,[e("div",Me,l(t.formatDate(i.latestDate)),1),e("div",Le,l(i.diagnosesCount)+" "+l((i.diagnosesCount>1,"hasil diagnosa")),1)])],10,Ce))),128))])]),t.selectedNik?(c(),d("div",Be,[e("div",Te,[e("h2",He," Riwayat "+l(((v=t.patientDiagnoses[t.selectedNik][0])==null?void 0:v.patientName)||"Pasien"),1),e("div",Ee,[e("button",{onClick:s[2]||(s[2]=i=>{var h;return t.openSendDialog(t.selectedNik,(h=t.patientDiagnoses[t.selectedNik][0])==null?void 0:h.patientName)}),class:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg",title:"Bagikan ke pasien"},s[19]||(s[19]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})],-1)])),e("button",{onClick:s[3]||(s[3]=i=>t.deletePatientRecord(t.selectedNik)),class:"p-2 text-red-400 hover:text-red-300 hover:bg-white/10 rounded-lg",title:"Hapus riwayat pasien"},s[20]||(s[20]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]))])]),e("div",Re,[(c(!0),d(R,null,V(t.patientDiagnoses[t.selectedNik],(i,h)=>(c(),d("div",{key:`${t.selectedNik}-${h}`,onClick:b=>t.viewDiagnosis(i),class:k(`p-4 border-b border-white/10 cursor-pointer transition-colors hover:bg-white/5
                  ${t.selectedDiagnosis===i?"bg-white/20":""}`)},[e("div",ze,[e("div",Ke,l(t.formatDate(i.createdAt)),1),e("div",{class:k(`px-2 py-0.5 rounded-full text-xs font-medium ${t.getStatusClass(i.resultPercentage)}`)},l(t.getStatusText(i.resultPercentage)),3)]),e("div",Fe,[e("div",Oe,[s[21]||(s[21]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-white/60 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),e("span",qe,"Risiko: "+l(i.resultPercentage||0)+"%",1)]),s[22]||(s[22]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-white/60",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])],10,Ve))),128))])])):x("",!0),t.selectedDiagnosis?(c(),d("div",Ge,[e("div",{class:"p-4 border-b border-white/20 flex justify-between items-center"},[s[24]||(s[24]=e("h2",{class:"text-xl font-semibold text-white"},"Detail Diagnosis",-1)),e("button",{onClick:t.closeDiagnosisView,class:"text-white/70 hover:text-white"},s[23]||(s[23]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Ue,[e("div",Je,[e("div",{class:k(`h-24 w-24 rounded-full flex items-center justify-center text-2xl font-bold text-white
                  ${t.getStatusClass(t.selectedDiagnosis.resultPercentage)}`)},l(t.selectedDiagnosis.resultPercentage||0)+"% ",3),e("div",Qe,[e("h3",Ye,l(t.getStatusText(t.selectedDiagnosis.resultPercentage)),1),e("p",We," Tanggal Diagnosis: "+l(t.formatDate(t.selectedDiagnosis.createdAt)),1)])]),e("div",Xe,[s[28]||(s[28]=e("h3",{class:"text-white text-sm font-medium uppercase tracking-wider mb-3 border-b border-white/20 pb-2"}," Informasi Pasien ",-1)),e("div",Ze,[e("div",null,[s[25]||(s[25]=e("p",{class:"text-white/70 text-sm"},"Nama",-1)),e("p",$e,l(t.selectedDiagnosis.patientName||"Tidak diketahui"),1)]),e("div",null,[s[26]||(s[26]=e("p",{class:"text-white/70 text-sm"},"Usia",-1)),e("p",et,l(t.selectedDiagnosis.age||"N/A")+" tahun",1)]),e("div",null,[s[27]||(s[27]=e("p",{class:"text-white/70 text-sm"},"Jenis Kelamin",-1)),e("p",tt,l(t.selectedDiagnosis.sex==="Male"?"Laki-laki":t.selectedDiagnosis.sex==="Female"?"Perempuan":"N/A"),1)])])]),e("div",st,[s[35]||(s[35]=e("h3",{class:"text-white text-sm font-medium uppercase tracking-wider mb-3 border-b border-white/20 pb-2"}," Penilaian Klinis ",-1)),e("div",ot,[e("div",null,[s[29]||(s[29]=e("p",{class:"text-white/70 text-sm"},"Tipe Nyeri Dada",-1)),e("p",it,l(t.selectedDiagnosis.chestPainType||"N/A"),1)]),e("div",null,[s[30]||(s[30]=e("p",{class:"text-white/70 text-sm"},"Tekanan Darah Istirahat",-1)),e("p",at,l(t.selectedDiagnosis.restingBP||t.selectedDiagnosis.restingBloodPressure||"N/A")+" mm Hg ",1)]),e("div",null,[s[31]||(s[31]=e("p",{class:"text-white/70 text-sm"},"Kolesterol",-1)),e("p",lt,l(t.selectedDiagnosis.serumCholesterol||t.selectedDiagnosis.cholesterol||"N/A")+" mg/dl ",1)]),e("div",null,[s[32]||(s[32]=e("p",{class:"text-white/70 text-sm"},"Gula Darah",-1)),e("p",nt,l(t.selectedDiagnosis.fastingBloodSugar||"N/A"),1)]),e("div",null,[s[33]||(s[33]=e("p",{class:"text-white/70 text-sm"},"Hasil ECG",-1)),e("p",rt,l(t.selectedDiagnosis.restingEcgResults||"N/A"),1)]),e("div",null,[s[34]||(s[34]=e("p",{class:"text-white/70 text-sm"},"Detak Jantung Maksimum",-1)),e("p",dt,l(t.selectedDiagnosis.maxHeartRate||t.selectedDiagnosis.maximumHeartRate||"N/A")+" bpm ",1)])])]),e("div",null,[s[41]||(s[41]=e("h3",{class:"text-white text-sm font-medium uppercase tracking-wider mb-3 border-b border-white/20 pb-2"}," Data Tambahan ",-1)),e("div",ct,[e("div",null,[s[36]||(s[36]=e("p",{class:"text-white/70 text-sm"},"Angina Akibat Olahraga",-1)),e("p",gt,l(t.selectedDiagnosis.exerciseInducedAngina==="Yes"?"Ya":t.selectedDiagnosis.exerciseInducedAngina==="No"?"Tidak":"N/A"),1)]),e("div",null,[s[37]||(s[37]=e("p",{class:"text-white/70 text-sm"},"Depresi ST",-1)),e("p",mt,l(t.selectedDiagnosis.stDepression||"N/A"),1)]),e("div",null,[s[38]||(s[38]=e("p",{class:"text-white/70 text-sm"},"Kemiringan ST",-1)),e("p",ut,l(t.selectedDiagnosis.stSegment||t.selectedDiagnosis.stSlope||"N/A"),1)]),e("div",null,[s[39]||(s[39]=e("p",{class:"text-white/70 text-sm"},"Pembuluh Utama",-1)),e("p",ht,l(t.selectedDiagnosis.majorVessels||t.selectedDiagnosis.numberOfMajorVessels||"N/A"),1)]),e("div",null,[s[40]||(s[40]=e("p",{class:"text-white/70 text-sm"},"Talasemia",-1)),e("p",wt,l(t.selectedDiagnosis.thalassemia||"N/A"),1)])])]),e("div",xt,[e("button",{onClick:s[4]||(s[4]=i=>t.viewDetailedReport(t.selectedDiagnosis.id)),class:"px-4 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition-all flex items-center"},s[42]||(s[42]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),S(" Lihat Laporan Lengkap ")])),e("button",{onClick:s[5]||(s[5]=i=>t.openSendDialog(t.selectedNik,t.selectedDiagnosis.patientName)),class:"px-4 py-2 bg-green-600 text-white rounded-lg shadow-md hover:bg-green-700 transition-all flex items-center"},s[43]||(s[43]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})],-1),S(" Kirim ke Pasien ")]))])])])):x("",!0),!t.selectedNik&&Object.keys(t.patientDiagnoses).length>0?(c(),d("div",vt,s[44]||(s[44]=[E('<div class="bg-white/10 backdrop-blur-sm rounded-xl shadow-xl overflow-hidden h-full flex items-center justify-center p-10" data-v-1c16d54c><div class="text-center max-w-lg" data-v-1c16d54c><img src="https://images.unsplash.com/photo-1666214280391-8ff5bd3c0bf0?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=400&amp;q=80" alt="Pilih pasien" class="w-32 h-32 object-cover rounded-full mx-auto mb-6" data-v-1c16d54c><h2 class="text-2xl font-bold text-white mb-2" data-v-1c16d54c>Pilih Pasien</h2><p class="text-white/80 mb-6" data-v-1c16d54c> Pilih pasien dari daftar di sebelah kiri untuk melihat riwayat dan detail diagnosis mereka. </p></div></div>',1)]))):x("",!0)])),t.showSendDialog?(c(),d("div",pt,[e("div",bt,[e("div",ft,[s[46]||(s[46]=e("h2",{class:"text-xl font-bold text-gray-800"},"Bagikan ke Pasien",-1)),e("button",{onClick:s[6]||(s[6]=i=>t.showSendDialog=!1),class:"text-gray-500 hover:text-gray-700"},s[45]||(s[45]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",kt,[s[47]||(s[47]=e("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"sendPatientNik"}," NIK Pasien ",-1)),A(e("input",{id:"sendPatientNik","onUpdate:modelValue":s[7]||(s[7]=i=>t.sendPatientNik=i),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Masukkan NIK pasien",disabled:t.isSending},null,8,yt),[[j,t.sendPatientNik]]),t.sendNikError?(c(),d("p",Dt,l(t.sendNikError),1)):x("",!0)]),e("div",_t,[s[48]||(s[48]=e("label",{class:"block text-gray-700 text-sm font-medium mb-2",for:"sendPatientName"}," Nama Pasien ",-1)),A(e("input",{id:"sendPatientName","onUpdate:modelValue":s[8]||(s[8]=i=>t.sendPatientName=i),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Masukkan nama pasien",disabled:t.isSending},null,8,Nt),[[j,t.sendPatientName]]),t.sendNameError?(c(),d("p",Pt,l(t.sendNameError),1)):x("",!0)]),e("div",Ct,[e("button",{onClick:s[9]||(s[9]=i=>t.showSendDialog=!1),class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",disabled:t.isSending}," Batal ",8,At),e("button",{onClick:t.sendToPatient,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",disabled:t.isSending},[t.isSending?(c(),d("svg",St,s[49]||(s[49]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):x("",!0),e("span",null,l(t.isSending?"Mengirim...":"Bagikan"),1)],8,jt)])])])):x("",!0),e("div",It,[p(t.LazyImage,{src:"https://images.unsplash.com/photo-1504813184591-01572f98c85f?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",alt:"Hospital corridor",class:"rounded-lg shadow-lg w-full h-40 object-cover",loadingClass:"animate-pulse bg-blue-200",placeholder:"/images/loading-placeholder.svg",errorPlaceholder:"/images/error-placeholder.svg"}),p(t.LazyImage,{src:"/images/hostipal.jpg",alt:"Hospital",class:"rounded-lg shadow-lg w-full h-40 object-cover",loadingClass:"animate-pulse bg-blue-200",placeholder:"/images/loading-placeholder.svg",errorPlaceholder:"/images/error-placeholder.svg"}),p(t.LazyImage,{src:"https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",alt:"Medical equipment",class:"rounded-lg shadow-lg w-full h-40 object-cover",loadingClass:"animate-pulse bg-blue-200",placeholder:"/images/loading-placeholder.svg",errorPlaceholder:"/images/error-placeholder.svg"}),p(t.LazyImage,{src:"/images/ike.jpg",alt:"Hospital staff",class:"rounded-lg shadow-lg w-full h-40 object-cover",loadingClass:"animate-pulse bg-blue-200",placeholder:"/images/loading-placeholder.svg",errorPlaceholder:"/images/error-placeholder.svg"})])])]),p(t.FooterComponent)])}const Kt=$(ie,[["render",Mt],["__scopeId","data-v-1c16d54c"],["__file","D:/test-project/se/jantungin/JantungIn/JantungIn-FE/src/Page/Admin/HistoryAdminPage.vue"]]);export{Kt as default};
