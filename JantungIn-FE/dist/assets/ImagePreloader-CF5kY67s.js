import{_ as c,d,k as u,G as p,H as m,r as l,c as y,o as i,I as s}from"./index-Dy1_wJKI.js";const _={name:"LazyBackground",props:{src:{type:String,required:!0},placeholder:{type:String,default:"/images/loading-placeholder.svg"},size:{type:String,default:"cover"},position:{type:String,default:"center"},repeat:{type:String,default:"no-repeat"},threshold:{type:Number,default:.1},rootMargin:{type:String,default:"0px"},priority:{type:Boolean,default:!1}},setup(e){const a=l(null),t=l(!1),r=y(()=>t.value?{backgroundImage:`url(${e.src})`,backgroundSize:e.size,backgroundPosition:e.position,backgroundRepeat:e.repeat}:{backgroundImage:e.placeholder?`url(${e.placeholder})`:"none",backgroundSize:e.size,backgroundPosition:e.position,backgroundRepeat:e.repeat});i(()=>{if(e.priority){o();return}if("IntersectionObserver"in window){const n=new IntersectionObserver(g=>{g.forEach(f=>{f.isIntersecting&&(o(),n.unobserve(a.value))})},{threshold:e.threshold,rootMargin:e.rootMargin});n.observe(a.value)}else o()});const o=()=>{const n=new Image;n.onload=()=>{t.value=!0},n.src=e.src};return{lazyBgRef:a,isLoaded:t,bgStyle:r}}};function b(e,a,t,r,o,n){return u(),d("div",m({ref:"lazyBgRef",class:[["lazy-background",{loaded:r.isLoaded}],"transition-opacity duration-500"],style:r.bgStyle},e.$attrs),[p(e.$slots,"default")],16)}const S=c(_,[["render",b],["__file","D:/test-project/se/jantungin/JantungIn/JantungIn-FE/src/components/LazyBackground.vue"]]),I={__name:"ImagePreloader",props:{images:{type:Array,default:()=>[]},priority:{type:Boolean,default:!1}},setup(e,{expose:a}){a();const t=e;i(()=>{t.images&&t.images.length>0&&(!t.priority&&window.requestIdleCallback?window.requestIdleCallback(()=>{s(t.images)}):s(t.images))});const r={props:t,onMounted:i,get preloadCriticalImages(){return s}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},k={style:{display:"none"}};function v(e,a,t,r,o,n){return u(),d("div",k)}const $=c(I,[["render",v],["__file","D:/test-project/se/jantungin/JantungIn/JantungIn-FE/src/components/ImagePreloader.vue"]]);export{$ as I,S as L};
