import{_ as c,d as g,k as u,H as f,r as s,o as m}from"./index-Dy1_wJKI.js";const v={name:"LazyImage",props:{src:{type:String,required:!0},alt:{type:String,default:""},placeholder:{type:String,default:"/images/loading-placeholder.svg"},errorPlaceholder:{type:String,default:"/images/error-placeholder.svg"},threshold:{type:Number,default:.1},rootMargin:{type:String,default:"200px"},priority:{type:Boolean,default:!1},loadingClass:{type:String,default:""}},setup(e){const r=s(null),a=s(!1),o=s(!1);m(()=>{if(e.priority){n();return}if("IntersectionObserver"in window){const t=new IntersectionObserver(d=>{d.forEach(i=>{i.isIntersecting&&(n(),t.unobserve(r.value))})},{threshold:e.threshold,rootMargin:e.rootMargin});t.observe(r.value)}else n()});const n=()=>{const t=new Image;t.onload=()=>{a.value=!0},t.onerror=()=>{o.value=!0,r.value.src=e.errorPlaceholder},t.src=e.src};return{lazyImgRef:r,isLoaded:a,onLoad:()=>{r.value.src===e.src&&(a.value=!0)}}}},y=["src","alt"];function h(e,r,a,o,n,l){return u(),g("img",f({ref:"lazyImgRef",class:["lazy-image",{"fade-in":o.isLoaded},a.loadingClass],src:o.isLoaded?a.src:a.placeholder,alt:a.alt,onLoad:r[0]||(r[0]=(...t)=>o.onLoad&&o.onLoad(...t))},e.$attrs),null,16,y)}const L=c(v,[["render",h],["__scopeId","data-v-c27c5544"],["__file","D:/test-project/se/jantungin/JantungIn/JantungIn-FE/src/components/LazyImage.vue"]]);export{L};
